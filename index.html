<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>wobushitiegan - 我不是铁杆</title><meta name="keywords" content="博客，读书笔记，学习笔记，个人分享，复盘，总结，反思"><meta name="author" content="我不是铁杆"><meta name="copyright" content="我不是铁杆"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="erwa的个人博客">
<meta property="og:type" content="website">
<meta property="og:title" content="wobushitiegan">
<meta property="og:url" content="https://wobushitiegan.github.io/index.html">
<meta property="og:site_name" content="wobushitiegan">
<meta property="og:description" content="erwa的个人博客">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008i3skNgy1guwp9xw09sj60b00b2q3u02.jpg">
<meta property="article:author" content="我不是铁杆">
<meta property="article:tag" content="博客，读书笔记，学习笔记，个人分享，复盘，总结，反思">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://tva1.sinaimg.cn/large/008i3skNgy1guwp9xw09sj60b00b2q3u02.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://wobushitiegan.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'wobushitiegan',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-09-29 20:57:44'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://tva1.sinaimg.cn/large/008i3skNgy1guwp9xw09sj60b00b2q3u02.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background: linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">wobushitiegan</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">wobushitiegan</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/wobushitiegan" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/wobushitiegan@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/09/29/study/databricks/" title="Databricks">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Databricks"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/29/study/databricks/" title="Databricks">Databricks</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-29T12:34:48.505Z" title="发表于 2021-09-29 20:34:48">2021-09-29</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-29T12:34:48.505Z" title="更新于 2021-09-29 20:34:48">2021-09-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2021/09/29/study/databricks/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/09/29/study/databricks/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">直接上官方文档： Azure Databricks 文档 | Microsoft Docs

 Databricks包含三大模块：

Databricks 数据科学与工程
Databricks机器学习
Databricks SQL（预览版）

这里我们目前学习的是Databricks数据科学与工程， 主要学习里边的Delta Lake 和 Delta Engine


Delta Lake 和 Delta Engine指南
Delta Lake 是可以提高 Data Lake 可靠性的开源存储层。 Delta Lake 提供 ACID 事务和可缩放的元数据处理，并可以统一流处理和批数据处理。 Delta Lake 在现有 Data Lake 的顶层运行，与 Apache Spark API 完全兼容。 利用 Azure Databricks 上的 Delta Lake，便可以根据工作负载模式配置 Delta Lake。
Azure Databricks 还包括 Delta Engine，这为快速交互式查询提供了优化的布局和索引。

写在前边
1、因为这个技术是Azure新推出的，网上的 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/09/29/study/DataDtames-Scala/" title="无题">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/29/study/DataDtames-Scala/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-29T12:34:48.496Z" title="发表于 2021-09-29 20:34:48">2021-09-29</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-29T12:34:48.496Z" title="更新于 2021-09-29 20:34:48">2021-09-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2021/09/29/study/DataDtames-Scala/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/09/29/study/DataDtames-Scala/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">DataFrames - Scala
微软提供的Dataframe常用API：
DataFrames 简介 - Scala - Azure Databricks - Workspace | Microsoft Docs
CSDN上的一篇文章，我在开发过程中很多次都是来这个里边查怎么用的：
https://blog.csdn.net/dabokele/article/details/52802150

</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/09/29/study/databricks%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" title="Databricks常见问题">     <img class="post_bg" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Databricks常见问题"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/29/study/databricks%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" title="Databricks常见问题">Databricks常见问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-29T12:34:48.496Z" title="发表于 2021-09-29 20:34:48">2021-09-29</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-29T12:34:48.496Z" title="更新于 2021-09-29 20:34:48">2021-09-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2021/09/29/study/databricks%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/09/29/study/databricks%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">什么是 Delta Lake？Delta Lake 是可提高数据湖可靠性的开源存储层。 Delta Lake 提供 ACID 事务和可缩放的元数据处理，并可以统一流处理和批数据处理。 Delta Lake 在现有 Data Lake 的顶层运行，与 Apache Spark API 完全兼容。
使用 Azure Databricks 上的 Delta Lake 可以根据工作负荷模式配置 Delta Lake，并提供优化的布局和索引来加快交互式查询速度。
Delta Lake 与 Apache Spark 之间存在何种关系？Delta Lake 位于 Apache Spark 之上。 格式和计算层有助于简化大数据管道的生成，提高管道的整体效率。
Delta Lake 使用哪种格式存储数据？Delta Lake 使用受版本控制的 Parquet 文件将数据存储在云存储空间中。 除了版本之外，Delta Lake 还存储事务日志用于跟踪针对表或 Blob 存储目录的所有提交（这些提交的目的是提供 ACID 事务）。
如何使用 Delta Lake 读取和写入数据？你可使用自己喜欢的 Apac ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/09/29/study/gitee+PicGo+Typora/" title="解决Typroa图片上传问题">     <img class="post_bg" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="解决Typroa图片上传问题"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/29/study/gitee+PicGo+Typora/" title="解决Typroa图片上传问题">解决Typroa图片上传问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-29T12:34:48.496Z" title="发表于 2021-09-29 20:34:48">2021-09-29</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-29T12:41:27.736Z" title="更新于 2021-09-29 20:41:27">2021-09-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2021/09/29/study/gitee+PicGo+Typora/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/09/29/study/gitee+PicGo+Typora/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">
本文使用gitee+PicGo+Typora的方法来解决图床问题，免费快捷

1、创建一个Gitee仓库
我知道你会，就不截图了。命名无要求

2、生成一个私人令牌。Gitee–&gt;设置–&gt;安全设置–&gt;私人令牌–&gt;生成新令牌

这里生成的令牌记得保存复制，关掉页面之后就没有了

​    
3、下载picgo
 点击下载github/PicGo ，拉到最下边下载PicGo  


4、安装picgo
傻瓜式安装

5、安装 gitee-uploader 插件
6、设置gitee图床
7、配置PicGo设置
设置一个时间戳重命名

设置一个开机自启

设置一个快捷键





测试一下，拖一个照片进去测试。提示上传成功。OK



8、配置Typora的图片上传。看图操作。


测试一下

OK 
</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/09/29/study/%E6%82%A8%E7%9A%84%E8%BF%9E%E6%8E%A5%E4%B8%8D%E6%98%AF%E7%A7%81%E5%AF%86%E8%BF%9E%E6%8E%A5/" title="您的连接不是私密连接解决办法">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="您的连接不是私密连接解决办法"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/29/study/%E6%82%A8%E7%9A%84%E8%BF%9E%E6%8E%A5%E4%B8%8D%E6%98%AF%E7%A7%81%E5%AF%86%E8%BF%9E%E6%8E%A5/" title="您的连接不是私密连接解决办法">您的连接不是私密连接解决办法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-29T12:34:48.496Z" title="发表于 2021-09-29 20:34:48">2021-09-29</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-29T12:34:48.496Z" title="更新于 2021-09-29 20:34:48">2021-09-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2021/09/29/study/%E6%82%A8%E7%9A%84%E8%BF%9E%E6%8E%A5%E4%B8%8D%E6%98%AF%E7%A7%81%E5%AF%86%E8%BF%9E%E6%8E%A5/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/09/29/study/%E6%82%A8%E7%9A%84%E8%BF%9E%E6%8E%A5%E4%B8%8D%E6%98%AF%E7%A7%81%E5%AF%86%E8%BF%9E%E6%8E%A5/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">解决方案：就是在当前页面用键盘输入  thisisunsafe  ，不是在地址栏输入，就直接敲键盘就行了，页面即会自动刷新进入网页。

Chrome 有时候会出现


Microsoft edge 访问也会出现


</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/09/28/hexo/error/" title="hexo错误集锦">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo错误集锦"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/28/hexo/error/" title="hexo错误集锦">hexo错误集锦</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-28T11:15:59.974Z" title="发表于 2021-09-28 19:15:59">2021-09-28</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-28T14:54:43.961Z" title="更新于 2021-09-28 22:54:43">2021-09-28</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2021/09/28/hexo/error/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/09/28/hexo/error/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">
butterfly 主题的官方文档，有问题先去这查。https://butterfly.js.org/

1、err: YAMLException: end of the stream or a document separator is expected at line 35, column 1:


错误场景：  在执行npx hexo g 时报错，目前还未找到解决方案。
错误原因： YAML语法问题。 title设置的问题
解决方案：检查title及 tag等配置，截图如下



2、404There isn’t a GitHub Pages site here.


错误场景：  hexo d,  部署了之后，网站就进不去了
错误原因： 检查github的page，看域名解析是否还在，我这边是因为没有了，重新配置上就好了。
解决方案：重新配置一下域名解析。（ps,我得找到根本原因，应该可以自动配置）



3、文章置顶【推荐】hexo-generator-index从 2.0.0 开始，已经支持文章置顶功能。你可以直接在文章的front-matter区域里添加sticky:  ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/09/28/hello-world/" title="Hello World">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/28/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-28T11:11:06.455Z" title="发表于 2021-09-28 19:11:06">2021-09-28</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-28T11:11:06.455Z" title="更新于 2021-09-28 19:11:06">2021-09-28</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2021/09/28/hello-world/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/09/28/hello-world/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">Welcome  to This
</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/09/27/mylife/%E4%BB%8A%E5%A4%A9-%E6%88%91%E7%9A%84%E7%94%9F%E6%97%A5/" title="今天,我的生日">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="今天,我的生日"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/27/mylife/%E4%BB%8A%E5%A4%A9-%E6%88%91%E7%9A%84%E7%94%9F%E6%97%A5/" title="今天,我的生日">今天,我的生日</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-27T12:40:04.000Z" title="发表于 2021-09-27 20:40:04">2021-09-27</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-28T11:11:06.456Z" title="更新于 2021-09-28 19:11:06">2021-09-28</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2021/09/27/mylife/%E4%BB%8A%E5%A4%A9-%E6%88%91%E7%9A%84%E7%94%9F%E6%97%A5/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/09/27/mylife/%E4%BB%8A%E5%A4%A9-%E6%88%91%E7%9A%84%E7%94%9F%E6%97%A5/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">生日快乐🎂今天送给自己一个礼物，就是做了一个个人网站。内容待补充，今天给部署出来。
</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://tva1.sinaimg.cn/large/008i3skNgy1guwp9xw09sj60b00b2q3u02.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">我不是铁杆</div><div class="author-info__description">erwa的个人博客</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a></div></div><a class="button--animated" id="card-info-btn" href="https://wobushitiegan.github.io/"><i class="fas fa-child"></i><span>个人博客</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/wobushitiegan" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/wobushitiegan@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/09/29/study/databricks/" title="Databricks"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Databricks"/></a><div class="content"><a class="title" href="/2021/09/29/study/databricks/" title="Databricks">Databricks</a><time datetime="2021-09-29T12:34:48.505Z" title="发表于 2021-09-29 20:34:48">2021-09-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/29/study/DataDtames-Scala/" title="无题"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2021/09/29/study/DataDtames-Scala/" title="无题">无题</a><time datetime="2021-09-29T12:34:48.496Z" title="发表于 2021-09-29 20:34:48">2021-09-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/29/study/databricks%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" title="Databricks常见问题"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Databricks常见问题"/></a><div class="content"><a class="title" href="/2021/09/29/study/databricks%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" title="Databricks常见问题">Databricks常见问题</a><time datetime="2021-09-29T12:34:48.496Z" title="发表于 2021-09-29 20:34:48">2021-09-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/29/study/gitee+PicGo+Typora/" title="解决Typroa图片上传问题"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="解决Typroa图片上传问题"/></a><div class="content"><a class="title" href="/2021/09/29/study/gitee+PicGo+Typora/" title="解决Typroa图片上传问题">解决Typroa图片上传问题</a><time datetime="2021-09-29T12:34:48.496Z" title="发表于 2021-09-29 20:34:48">2021-09-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/29/study/%E6%82%A8%E7%9A%84%E8%BF%9E%E6%8E%A5%E4%B8%8D%E6%98%AF%E7%A7%81%E5%AF%86%E8%BF%9E%E6%8E%A5/" title="您的连接不是私密连接解决办法"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="您的连接不是私密连接解决办法"/></a><div class="content"><a class="title" href="/2021/09/29/study/%E6%82%A8%E7%9A%84%E8%BF%9E%E6%8E%A5%E4%B8%8D%E6%98%AF%E7%A7%81%E5%AF%86%E8%BF%9E%E6%8E%A5/" title="您的连接不是私密连接解决办法">您的连接不是私密连接解决办法</a><time datetime="2021-09-29T12:34:48.496Z" title="发表于 2021-09-29 20:34:48">2021-09-29</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/09/"><span class="card-archive-list-date">九月 2021</span><span class="card-archive-list-count">8</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">8</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-09-26T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-09-29T12:57:44.576Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 By 我不是铁杆</div><div class="framework-info"><span>framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a href="a"><img class="icp-icon" src="/images/icp.png"><span>备案号：备案中</span></a><p><span>Hosted by <a target="_blank" rel="noopener" href="https://pages.coding.me" style="font-weight:bold">Coding Pages</a></span> and <span><a target="_blank" rel="noopener" href="https://github.com" style="font-weight:bold">Github</a></span></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><div class="js-pjax"><script>(() => {
  function loadValine () {
    function initValine () {
      let initData = {
        el: '#vcomment',
        appId: 'H6oC3nqGaKTWDftstJ8LHrYx-gzGzoHsz',
        appKey: 'tykicouAnzTBlK4VFTHdwUtd',
      }
      
      const valine = new Valine(initData)
    }

    if (typeof Valine === 'function') initValine() 
    else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
  }

  window.pjax ? loadValine() : window.addEventListener('load', loadValine)
})()</script></div><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.17.0/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=monsterid'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'wobushitiegan.top'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": 'H6oC3nqGaKTWDftstJ8LHrYx-gzGzoHsz',
        "X-LC-Key": 'tykicouAnzTBlK4VFTHdwUtd',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=6&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>